databaseChangeLog:

  - changeSet:

      id: 1

      author: emin

      changes:

        - createTable:

            tableName: ingredient

            columns:

              - column:

                  name: id

                  type: BIGINT

                  autoIncrement: true

                  constraints:

                    primaryKey: true

                    nullable: false

              - column:

                  name: name

                  type: VARCHAR(255)

              - column:

                  name: quantity

                  type: VARCHAR(255)

              - column:

                  name: recipe_id

                  type: BIGINT

        - createTable:

            tableName: recipe

            columns:

              - column:

                  name: id

                  type: BIGINT

                  autoIncrement: true

                  constraints:

                    primaryKey: true

                    nullable: false

              - column:

                  name: name

                  type: VARCHAR(255)

              - column:

                  name: description

                  type: VARCHAR(255)

        - createTable:

            tableName: meal

            columns:

              - column:

                  name: id

                  type: BIGINT

                  autoIncrement: true

                  constraints:

                    primaryKey: true

                    nullable: false

              - column:

                  name: name

                  type: VARCHAR(255)

              - column:

                  name: meal_type

                  type: VARCHAR(255)

              - column:

                  name: recipe_id

                  type: BIGINT

        - addForeignKeyConstraint:

            baseTableName: ingredient

            baseColumnNames: recipe_id

            referencedTableName: recipe

            referencedColumnNames: id

            constraintName: fk_ingredient_recipe

        - addForeignKeyConstraint:

            baseTableName: meal

            baseColumnNames: recipe_id

            referencedTableName: recipe

            referencedColumnNames: id

            constraintName: fk_meal_recipes